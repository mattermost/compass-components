import { Meta, Story, Canvas, ArgsTable, Title, Subtitle } from '@storybook/addon-docs/blocks';

import Typography from './Typography';

import Grid, { GridSpacing } from '../layout/';
import Shape from '../shape';
import {
    BODY_SIZES,
    HEADING_ELEMENTS,
    HEADING_SIZES,
    TYPOGRAPHY_COLORS,
    TYPOGRAPHY_MARGINS,
} from './Typography.constants';
import Heading from '../../components/heading';
import Text from '../../components/text';

<Meta component={Typography} title="Foundations/Typography" />

<Title>Typography</Title>

<Subtitle>
    Text an integral part of any user interface, so it’s important that all typographic elements are
    designed for legibility and consistency. This section defines the typographic style and usage
    guidelines.
</Subtitle>

## Typefaces

Compass uses Metropolis and Open Sans as the primary typefaces. Metropolis is a modern, geometric typeface that is
open-sourced, and openly available. It has been designed for optimal readability at small point sizes while remaining
beautiful at large point sizes.

### Metropolis

**Metropolis is used for headings 300-700. See below for more details.**

Open Sans is another modern sans-serif typeface that is incredibly legible and offers an excellent reading experience.
It was developed to have high performance as a web font and is considered to be a font that combines all the
strongest attributes of the top sans serif fonts. Open Sans is available to be used freely in products or projects.

### Open Sans

**Open Sans is used for all body copy and headings 50-200. See below for more details.**

## Typography Scale

### Scale Ratio

A type scale has been chosen to ensure that different sizes of text can work together harmoniously. Font sizes have a
scale of 1.125. This means that each size is multiplied or divided by 1.125 from the previous size, starting with the
base size, and then rounded.

## Base Font Size

The base font size for the Mattermost Web App is 14px—also known as the base size '100' in our typographic scale.

### Line Heights

Body copy line heights generally use a multiplier of 1.5 based on the font size, but some adjustmentshave been made
in order for the baselines to fall on the 4px grid.

Heading line heights generally use a multiplier of 1.3 based on the font size, but some adjustments have been made in
order for the baselines to fall on the 4px grid. Smaller headings also use the 1.5 multiplier.

## Headings

### Font Weights

Headings are generally used in the semibold font-weight, but can also be used in regular or light weights in special
cases where the typographic contrast is needed.

### Heading Sizes

The chart below shows all the heading sizes from Heading 100 to Heading 1000, where 100 is the base font size as
described above.

export const smallSizes = [
    { size: 25, fontSize: 10, lineHeight: 16 },
    { size: 50, fontSize: 11, lineHeight: 16 },
    { size: 75, fontSize: 12, lineHeight: 16 },
    { size: 100, fontSize: 14, lineHeight: 20 },
    { size: 200, fontSize: 16, lineHeight: 24 },
];
export const headingSizes = [
    ...smallSizes,
    { size: 300, fontSize: 18, lineHeight: 24 },
    { size: 400, fontSize: 20, lineHeight: 28 },
    { size: 500, fontSize: 22, lineHeight: 28 },
    { size: 600, fontSize: 25, lineHeight: 30 },
    { size: 700, fontSize: 28, lineHeight: 36 },
    { size: 800, fontSize: 32, lineHeight: 40 },
    { size: 900, fontSize: 36, lineHeight: 40 },
    { size: 1000, fontSize: 40, lineHeight: 48 },
];

export const bodySizes = [...smallSizes, { size: 300, fontSize: 18, lineHeight: 28 }];

<>
    {headingSizes.map((heading) => (
        <div key={`heading_${heading.size}`}>
            <hr />
            <Grid justify={'stretch'}>
                <Grid row>
                    <Heading element={'h3'} size={300}>
                        {`Heading ${heading.size}${heading.size === 100 ? ' (Base size)' : ''}`}
                    </Heading>
                </Grid>
                <Grid row>
                    <Grid flex={3}>
                        <Text element={'p'} color={'secondary'} size={50} margin={'none'}>
                            Family
                        </Text>
                        <Text element={'p'} size={200} margin={'bottom'}>
                            {heading.size > 300 ? 'Metropolis (600)' : 'OpenSans (600)'}
                        </Text>
                    </Grid>
                    <Grid flex={2}>
                        <Text element={'p'} color={'secondary'} size={50} margin={'none'}>
                            Size
                        </Text>
                        <Text element={'p'} size={200} margin={'bottom'}>
                            {`${heading.fontSize}px`}
                        </Text>
                    </Grid>
                    <Grid flex={2}>
                        <Text element={'p'} color={'secondary'} size={50} margin={'none'}>
                            Line Height
                        </Text>
                        <Text element={'p'} size={200} margin={'bottom'}>
                            {`${heading.lineHeight}px`}
                        </Text>
                    </Grid>
                    <Grid flex={6}>
                        <Text element={'p'} color={'secondary'} size={50} margin={'none'}>
                            Example
                        </Text>
                        <Heading element={'h1'} size={heading.size} margin={'bottom'}>
                            The quick brown fox jumps over the lazy dog
                        </Heading>
                    </Grid>
                </Grid>
            </Grid>
        </div>
    ))}
</>

## Body

### Font Weights

Body always uses the regular font-weight, but where emphasis is needed, the semi-bold weight can be used.

### Body Sizes

The chart below shows all the body copy sizes where Body 100 is the base font size.

<>
    {bodySizes.map((body) => (
        <div key={`body_${body.size}`}>
            <hr />
            <Grid justify={'stretch'}>
                <Grid row>
                    <Heading element={'h3'} size={300}>
                        {`Body ${body.size}${body.size === 100 ? ' (Base size)' : ''}`}
                    </Heading>
                </Grid>
                <Grid row>
                    <Grid flex={3}>
                        <Text element={'p'} color={'secondary'} size={50} margin={'none'}>
                            Family
                        </Text>
                        <Text element={'p'} size={200} margin={'bottom'}>
                            OpenSans (400)
                        </Text>
                    </Grid>
                    <Grid flex={2}>
                        <Text element={'p'} color={'secondary'} size={50} margin={'none'}>
                            Size
                        </Text>
                        <Text element={'p'} size={200} margin={'bottom'}>
                            {`${body.fontSize}px`}
                        </Text>
                    </Grid>
                    <Grid flex={2}>
                        <Text element={'p'} color={'secondary'} size={50} margin={'none'}>
                            Line Height
                        </Text>
                        <Text element={'p'} size={200} margin={'bottom'}>
                            {`${body.lineHeight}px`}
                        </Text>
                    </Grid>
                    <Grid flex={6}>
                        <Text element={'p'} color={'secondary'} size={50} margin={'none'}>
                            Example
                        </Text>
                        <Text element={'p'} size={body.size} margin={'bottom'}>
                            The quick brown fox jumps over the lazy dog
                        </Text>
                    </Grid>
                </Grid>
            </Grid>
        </div>
    ))}
</>

## Font Stack

In cases where standard typefaces are not available, the following font stacks should be used as a fallback, so the
device uses the system standard `sans-serif` typeface.

```css
:root {
    font-family: Metropolis, sans-serif;
    font-family: “Open Sans”, sans-serif;
}
```

## Component API

<ArgsTable of={Typography} exclude={['as', 'ref', 'forwardedAs', 'theme']} />

export const ParagraphTemplate = (args) => (
    <Shape width={400} border borderRadius={4} elevation={2}>
        <Grid padding={GridSpacing.all(100)}>
            <Heading
                size={args.headingSize}
                margin={args.headingMargin}
                element={args.headingElement}
                color={args.headingColor}
            >
                {args.heading}
            </Heading>
            <Heading
                size={args.subtitleSize}
                margin={args.subtitleMargin}
                element={args.subtitleElement}
                color={args.subtitleColor}
            >
                {args.subtitle}
            </Heading>
            <Text
                size={args.paragraphSize}
                margin={args.paragraphMargin}
                element={args.paragraphElement}
                color={args.paragraphColor}
            >
                {args.paragraph}
            </Text>
            <Heading
                size={args.subtitleSize}
                margin={args.subtitleMargin}
                element={args.subtitleElement}
                color={args.subtitleColor}
            >
                {args.subtitle}
            </Heading>
            <Text
                size={args.paragraphSize}
                margin={args.paragraphMargin}
                element={args.paragraphElement}
                color={args.paragraphColor}
            >
                {args.paragraph}
            </Text>
            <Text
                size={args.paragraphSize}
                margin={args.paragraphMargin}
                element={args.paragraphElement}
                color={args.paragraphColor}
            >
                {args.paragraph}
            </Text>
        </Grid>
    </Shape>
);

<Canvas hidden>
    <Story
        name="Text-Section"
        argTypes={{
            heading: { table: { disable: true } },
            headingSize: { control: { type: 'select', options: HEADING_SIZES } },
            headingElement: { control: { type: 'select', options: HEADING_ELEMENTS } },
            headingMargin: { control: { type: 'radio', options: TYPOGRAPHY_MARGINS } },
            headingColor: { control: { type: 'radio', options: TYPOGRAPHY_COLORS } },
            subtitle: { table: { disable: true } },
            subtitleSize: { control: { type: 'select', options: HEADING_SIZES } },
            subtitleElement: { table: { disable: true } },
            subtitleMargin: { control: { type: 'radio', options: TYPOGRAPHY_MARGINS } },
            subtitleColor: { control: { type: 'radio', options: TYPOGRAPHY_COLORS } },
            paragraph: { table: { disable: true } },
            paragraphSize: { control: { type: 'select', options: BODY_SIZES } },
            paragraphElement: { table: { disable: true } },
            paragraphMargin: { control: { type: 'radio', options: TYPOGRAPHY_MARGINS } },
            paragraphColor: { control: { type: 'radio', options: TYPOGRAPHY_COLORS } },
        }}
        args={{
            heading: 'Lorem ipsum dolor sit amet',
            headingSize: 500,
            headingElement: 'h2',
            headingMargin: 'both',
            headingColor: 'primary',
            subtitle:
                'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.',
            subtitleSize: 300,
            subtitleElement: 'h6',
            subtitleMargin: 'both',
            subtitleColor: 'primary',
            paragraph:
                'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.',
            paragraphSize: 100,
            paragraphElement: 'p',
            paragraphMargin: 'both',
            paragraphColor: 'primary',
        }}
    >
        {ParagraphTemplate.bind({})}
    </Story>
</Canvas>
