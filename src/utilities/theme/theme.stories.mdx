import { Meta, Story, Canvas, Title } from '@storybook/addon-docs/blocks';

import Flex from '../layout';
import Spacing from '../spacing';
import { blue, COLOR_NAMES, COLOR_SHADES } from '../../foundations/colors';
import Shape from '../../foundations/shape';
import Heading from '../../components/heading';
import ButtonRoot from '../../components/button';
import Text from '../../components/text';
import { createThemeColor } from '../../shared';

import { SectionThemeProvider } from './theme-provider';
import { lightTheme, darkTheme, sidebarTheme } from './themes';

<Meta title="Utilities/Theming" />

<Title>Theming</Title>

export const themes = {
    lightTheme,
    darkTheme,
    sidebarTheme,
};

<Canvas hidden>
    <Story
        name="Default"
        args={{
            sectionTheme: 'lightTheme',
        }}
        argTypes={{
            sectionTheme: {
                options: Object.keys(themes),
                mapping: themes,
                control: {
                    type: 'select',
                    labels: {
                        lightTheme: 'light theme',
                        darkTheme: 'dark theme',
                        sidebarTheme: 'sidebar theme',
                    },
                },
            },
        }}
    >
        {(args) => (
            <Flex row>
                <SectionThemeProvider theme={args.sectionTheme || lightTheme}>
                    <Flex width={300} padding={Spacing.all(100)}>
                        <Shape borderRadius={16}>
                            <Flex padding={Spacing.all(100)}>
                                <Heading>This is a sub-section</Heading>
                                <Text>
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                                    eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                                    enim ad minim veniam, quis nostrud exercitation ullamco laboris
                                    nisi ut aliquip ex ea commodo consequat.
                                </Text>
                                <ButtonRoot
                                    label={'PRIMARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                />
                                <br />
                                <ButtonRoot
                                    label={'SECONDARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                    variant={'secondary'}
                                />
                                <br />
                                <ButtonRoot
                                    label={'TERTIARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                    variant={'tertiary'}
                                />
                                <br />
                                <ButtonRoot
                                    inverted
                                    label={'INV. PRIMARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                />
                                <br />
                                <ButtonRoot
                                    inverted
                                    label={'INV. SECONDARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                    variant={'secondary'}
                                />
                                <br />
                                <ButtonRoot
                                    inverted
                                    label={'INV. TERTIARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                    variant={'tertiary'}
                                />
                                <br />
                            </Flex>
                        </Shape>
                    </Flex>
                </SectionThemeProvider>
                <Flex width={300} padding={Spacing.all(100)}>
                    <Shape borderRadius={16}>
                        <Flex padding={Spacing.all(100)}>
                            <Heading>This is the main-section</Heading>
                            <Text>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                                eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
                                ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                                aliquip ex ea commodo consequat.
                            </Text>
                            <ButtonRoot
                                label={'PRIMARY BUTTON'}
                                onClick={() => console.log('THIS IS A BUTTON click')}
                            />
                            <br />
                            <ButtonRoot
                                label={'SECONDARY BUTTON'}
                                onClick={() => console.log('THIS IS A BUTTON click')}
                                variant={'secondary'}
                            />
                            <br />
                            <ButtonRoot
                                label={'TERTIARY BUTTON'}
                                onClick={() => console.log('THIS IS A BUTTON click')}
                                variant={'tertiary'}
                            />
                        </Flex>
                    </Shape>
                </Flex>
            </Flex>
        )}
    </Story>
    <Story
        name="Default Color"
        args={{
            sectionTheme: 'lightTheme',
            primaryColor: 'blue',
            primaryColorShade: 500,
        }}
        argTypes={{
            sectionTheme: {
                options: Object.keys(themes),
                mapping: themes,
                control: {
                    type: 'select',
                    labels: {
                        lightTheme: 'light theme',
                        darkTheme: 'dark theme',
                        sidebarTheme: 'sidebar theme',
                    },
                },
            },
            primaryColor: {
                options: COLOR_NAMES,
                control: {
                    type: 'select',
                },
            },
            primaryColorShade: {
                options: COLOR_SHADES,
                control: {
                    type: 'select',
                },
            },
        }}
    >
        {(args) => {
            const theme = {
                ...args.sectionTheme,
                palette: {
                    ...args.sectionTheme?.palette,
                    primary: createThemeColor(args.primaryColor, args.primaryColorShade),
                },
            };
            return (
                <Flex row>
                    <SectionThemeProvider theme={theme}>
                        <Flex width={300} padding={Spacing.all(100)}>
                            <Shape borderRadius={16}>
                                <Flex padding={Spacing.all(100)}>
                                    <Heading>This is a sub-section</Heading>
                                    <Text>
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                                        do eiusmod tempor incididunt ut labore et dolore magna
                                        aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                                        ullamco laboris nisi ut aliquip ex ea commodo consequat.
                                    </Text>
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() =>
                                            console.log('THIS IS A BUTTON click', blue[500])
                                        }
                                        inverted={theme.type === 'dark'}
                                        destructive
                                        disabled
                                    />
                                    <br />
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() => console.log('THIS IS A BUTTON click')}
                                        inverted={theme.type === 'dark'}
                                        variant={'secondary'}
                                        destructive
                                        disabled
                                    />
                                    <br />
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() => console.log('THIS IS A BUTTON click')}
                                        inverted={theme.type === 'dark'}
                                        variant={'tertiary'}
                                        destructive
                                        disabled
                                    />
                                    <br />
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() => console.log('THIS IS A BUTTON click')}
                                        inverted={theme.type === 'dark'}
                                        destructive
                                    />
                                    <br />
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() => console.log('THIS IS A BUTTON click')}
                                        inverted={theme.type === 'dark'}
                                        variant={'secondary'}
                                        destructive
                                    />
                                    <br />
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() => console.log('THIS IS A BUTTON click')}
                                        inverted={theme.type === 'dark'}
                                        variant={'tertiary'}
                                        destructive
                                    />
                                    <br />
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() =>
                                            console.log('THIS IS A BUTTON click', blue[500])
                                        }
                                        inverted={theme.type === 'dark'}
                                    />
                                    <br />
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() => console.log('THIS IS A BUTTON click')}
                                        inverted={theme.type === 'dark'}
                                        variant={'secondary'}
                                    />
                                    <br />
                                    <ButtonRoot
                                        label={'PRIMARY BUTTON'}
                                        onClick={() => console.log('THIS IS A BUTTON click')}
                                        inverted={theme.type === 'dark'}
                                        variant={'tertiary'}
                                    />
                                    <br />
                                </Flex>
                            </Shape>
                        </Flex>
                    </SectionThemeProvider>
                    <Flex width={300} padding={Spacing.all(100)}>
                        <Shape borderRadius={16}>
                            <Flex padding={Spacing.all(100)}>
                                <Heading>This is the main-section</Heading>
                                <Text>
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                                    eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                                    enim ad minim veniam, quis nostrud exercitation ullamco laboris
                                    nisi ut aliquip ex ea commodo consequat.
                                </Text>
                                <ButtonRoot
                                    label={'PRIMARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                />
                                <br />
                                <ButtonRoot
                                    label={'SECONDARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                    variant={'secondary'}
                                />
                                <br />
                                <ButtonRoot
                                    label={'TERTIARY BUTTON'}
                                    onClick={() => console.log('THIS IS A BUTTON click')}
                                    variant={'tertiary'}
                                />
                            </Flex>
                        </Shape>
                    </Flex>
                </Flex>
            );
        }}
    </Story>
</Canvas>
